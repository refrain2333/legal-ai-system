# 环境变量配置示例
# 复制此文件为 .env 并根据实际情况修改配置

# ===========================================
# LLM 提供商启用配置
# ===========================================
LLM_ENABLED=true
LLM_PROVIDER_CLOUDFLARE=true
LLM_PROVIDER_GLM=false
LLM_PROVIDER_GEMINI=false
LLM_PROVIDER_SILICONFLOW=true

# ===========================================
# 应用基础配置
# ===========================================
APP_NAME="Legal Navigation AI"
APP_VERSION="1.0.0"
APP_ENV="development"  # development, production, testing
DEBUG=true

# ===========================================
# 服务器配置
# ===========================================
HOST="127.0.0.1"
PORT=5006
WORKERS=1

# ===========================================
# 模型配置 - Lawformer法律专业模型
# ===========================================
MODEL_NAME="thunlp/Lawformer"
MODEL_CACHE_DIR="./.cache/transformers"
LOCAL_MODEL_PATH="./.cache/transformers/models--thunlp--Lawformer"
FINE_TUNED_MODEL_PATH="./models/fine_tuned/lawformer_enhanced_v1.0.pt"
USE_FINE_TUNED_MODEL=false
EMBEDDING_DIM=768
MAX_SEQUENCE_LENGTH=4096
MODEL_OFFLINE_MODE=true

# ===========================================
# 检索配置
# ===========================================
DEFAULT_TOP_K=10
SEARCH_TIMEOUT=30
CACHE_SIZE=1000
CACHE_TTL=3600

# ===========================================
# 日志配置
# ===========================================
LOG_LEVEL="INFO"
LOG_FILE="./logs/app/app.log"
LOG_ROTATION="1 day"
LOG_RETENTION="30 days"

# ===========================================
# API配置
# ===========================================
API_RATE_LIMIT="100/minute"
API_KEY=""
CORS_ORIGINS="http://localhost:5006,http://127.0.0.1:5006,null"

# ===========================================
# 文件路径配置
# ===========================================
DATA_RAW_PATH="./data/raw"
DATA_PROCESSED_PATH="./data/processed"
MODEL_STORAGE_PATH="./models"
INDEX_STORAGE_PATH="./data/indices"

# ===========================================
# 安全配置
# ===========================================
SECRET_KEY="your-secret-key-here-please-change-this"
JWT_ALGORITHM="HS256"
JWT_EXPIRE_MINUTES=60

# ===========================================
# Gemini AI 配置
# ===========================================
GEMINI_API_KEY="your-gemini-api-key-here"
GEMINI_API_BASE="https://your-gemini-proxy-url.com/chat/completions"
GEMINI_MODELS="gemini-2.5-flash-lite,gemini-2.5-flash,gemini-2.0-flash,gemini-2.0-flash-lite"

# ===========================================
# 智谱GLM 配置
# ===========================================
GLM_API_KEY="your-glm-api-key-here"
GLM_API_BASE="https://open.bigmodel.cn/api/paas/v4/"
GLM_MODEL="glm-4.5-flash"

# ===========================================
# Cloudflare AI 配置
# ===========================================
CF_ACCOUNT_ID="your-cloudflare-account-id"
CF_API_TOKEN="your-cloudflare-api-token"
CF_MODEL="@cf/openai/gpt-oss-20b"

# ===========================================
# 硅基流动 SiliconFlow 配置
# ===========================================
SILICONFLOW_API_KEY="your-siliconflow-api-key-here"
SILICONFLOW_API_BASE="https://api.siliconflow.cn/v1"
SILICONFLOW_MODELS="Qwen/Qwen3-Next-80B-A3B-Instruct,Qwen/Qwen2.5-7B-Instruct,deepseek-ai/DeepSeek-V2.5,meta-llama/Meta-Llama-3.1-8B-Instruct"

# ===========================================
# LLM通用配置
# ===========================================
LLM_REQUEST_TIMEOUT=120
LLM_MAX_RETRIES=2
LLM_ENABLE_FALLBACK=true
LLM_MODEL_FALLBACK=true

# ===========================================
# Query2Doc技术配置
# ===========================================
ENABLE_QUERY2DOC=true
QUERY2DOC_MAX_TOKENS=120
QUERY2DOC_TEMPERATURE=0.3

# ===========================================
# HyDE技术配置
# ===========================================
ENABLE_HYDE=true
HYDE_MAX_TOKENS=200
HYDE_TEMPERATURE=0.2

# ===========================================
# 多路召回权重配置
# ===========================================
HYBRID_WEIGHT=0.4
QUERY2DOC_WEIGHT=0.35
HYDE_WEIGHT=0.25

# ===========================================
# 成本控制
# ===========================================
DAILY_LLM_LIMIT=1000
LLM_COST_WARNING_THRESHOLD=4.0

# ===========================================
# 监控配置
# ===========================================
ENABLE_METRICS=false
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30