# 自动化测试目录 (tests)

## 目录作用

本目录包含项目的所有自动化测试用例，用于确保代码质量、功能正确性和重构后的稳定性。所有在此目录下的测试都应遵循 `pytest` 的规范，以便能够被测试运行器自动发现和执行。

## 目录结构规范

为了保持测试的清晰和有序，请遵循以下结构：

### `tests/unit/` - 单元测试

*   **作用**: 对单一模块、类或函数进行隔离测试，不涉及外部依赖（如数据库、文件系统、网络请求等）。这些测试应该快速、独立且可重复。
*   **文件命名**: `test_<module_name>.py` (例如: `test_simple_search_engine.py`)

### `tests/integration/` - 集成测试

*   **作用**: 测试多个模块协同工作的正确性，或者测试服务与外部依赖（如API、数据库）的交互。这些测试通常比单元测试慢，可能需要特定的测试环境。
*   **文件命名**: `test_<feature_name>.py` (例如: `test_api_endpoints.py`)

### `tests/fixtures/` - 测试夹具

*   **作用**: 存放可被多个测试用例共享的数据或资源文件（例如，测试用的JSON、CSV文件）。

### `conftest.py` - 配置文件

*   **作用**: `pytest` 的本地插件配置文件。用于定义跨文件的测试夹具 (fixtures)、钩子 (hooks) 和插件。

## 编写规范

1.  **测试文件**: 必须以 `test_` 开头或以 `_test.py` 结尾。
2.  **测试函数**: 必须以 `test_` 开头。
3.  **测试类**: 必须以 `Test` 开头。
4.  **断言**: 使用 `assert` 语句进行结果验证。
5.  **依赖隔离**: 单元测试应尽可能使用 `mock` 来隔离外部依赖。

## 运行测试

在项目根目录下执行以下命令：

```bash
pytest
```
