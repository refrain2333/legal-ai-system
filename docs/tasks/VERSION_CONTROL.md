# 任务文档版本管理说明

## 版本管理规则

### 1. 文档生命周期
- **活跃期**: 任务进行中，文档在 `docs/tasks/` 根目录
- **归档期**: 任务完成后，移至 `docs/tasks/completed/` 
- **版本控制**: 超过200行时创建新版本

### 2. 文件命名规范
```
主任务文档: CURRENT_TASKS.md
具体任务: TASK_YYYY-MM-DD_task-name.md  
版本文档: TASK_YYYY-MM-DD_task-name_v{N}.md
临时文件: temp_YYYY-MM-DD_purpose_lifecycle.{ext}
```

### 3. 版本创建触发条件
- 文档长度超过200行
- 任务阶段性完成
- 重大架构变更
- 月度归档整理

### 4. 版本内容要求
每个版本文档必须包含:
```markdown
# 任务名称 - 版本N
**创建时间**: YYYY-MM-DD
**版本**: vN
**前一版本**: 链接到前一版本
**完成状态**: 进行中/已完成/暂停

## 版本更新摘要
- 关键变更点
- 新增功能
- 解决的问题

## 任务详情
[具体任务内容]

## 进度记录
[按时间顺序的进度更新]
```

### 5. 临时文件管理
临时文件lifecycle说明:
- **test**: 测试完即删除
- **debug**: 调试阶段保留，问题解决后删除  
- **demo**: 演示文件，任务完成后评估是否保留
- **temp**: 临时处理，当日删除

### 6. 自动化脚本 (将来实现)
```bash
# 计划创建的管理脚本
scripts/task_management/
├── create_task.py        # 创建新任务文档
├── archive_task.py       # 归档完成任务  
├── cleanup_temp.py       # 清理临时文件
└── generate_report.py    # 生成进度报告
```

## 当前版本状态

### 活跃任务文档
- `CURRENT_TASKS.md` - v1.0 - 当前主任务清单

### 计划中的版本化任务
1. AI模型层实现任务
2. 数据处理管道任务
3. API接口开发任务

## 使用指南

### 创建新任务时
1. 复制任务模板
2. 填写任务详情
3. 在CURRENT_TASKS.md中添加引用
4. 使用TodoWrite工具跟踪进度

### 任务进行中
1. 及时更新进度状态
2. 记录遇到的问题和解决方案
3. 代码修改后同步更新文档

### 任务完成时  
1. 标记所有子任务为完成
2. 总结完成情况和经验教训
3. 移动到completed目录
4. 更新CURRENT_TASKS.md状态

### 版本升级时
1. 创建新版本文档
2. 在新版本中引用历史版本
3. 更新CURRENT_TASKS.md中的链接
4. 归档旧版本到completed目录

---
**创建时间**: 2025-09-04
**维护人员**: Claude Code
**更新频率**: 根据需要更新